<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Fortune Gem Slot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
  body {
    background: linear-gradient(to bottom, #3a003a, #1a001a);
    color: #fff;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }

  h1 {
    margin-top: 20px;
    font-size: 32px;
  }

  .slot-machine {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 40px auto;
    gap: 20px;
    background-image: url('fondo-slot.jpg'); /* o base64 si prefieres */
    background-size: cover;
    background-position: center;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 0 20px #000;
    width: max-content;
  }

  .column {
    width: 70px;
    height: 210px; /* 3 symbols x 70px */
    overflow: hidden;
    border: 2px solid #aaa;
    border-radius: 10px;
    background-color: rgba(0, 0, 0, 0.8);
    position: relative;
  }

  .reel {
    display: flex;
    flex-direction: column;
    transition: transform 0.6s ease-out;
  }

  .reel img {
    width: 70px;
    height: 70px;
    object-fit: contain;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .buttons {
    margin-top: 20px;
  }

  button {
    background-color: #ff0066;
    color: white;
    font-size: 18px;
    border: none;
    padding: 12px 24px;
    border-radius: 10px;
    margin: 0 10px;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #cc0052;
  }

  #resultado {
    margin-top: 20px;
    font-size: 24px;
    font-weight: bold;
  }

  /* Puedes agregar m√°s animaciones o estilos como brillos, bordes din√°micos, etc. */
</style>

</head>
<body style="background-image: url('slot_bg.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">

<!-- Pantalla splash -->
<div id="splash">
  <div id="preloader">
    <p style="font-size: 1.5em; color: gold;">üîÑ Cargando...</p>
  </div>
  <div id="startButton" style="display: none; flex-direction: column; align-items: center;">
    <img src="logo_slot.png" alt="Logo Slot" style="width: 150px; margin-bottom: 20px;">
    <button onclick="startGame()">JUGAR</button>
  </div>
</div>

<h1 style="text-align:center;">üé∞ Fortune Gem Slot</h1>
<div id="balance" style="text-align:center;">Saldo: $100</div>

<div class="slot-machine-container">

  <!-- Slot Columns -->
  <div class="slot-machine">
    <div class="column" id="col-0">
      <img src="symbol.png"><img src="symbol.png"><img src="symbol.png">
    </div>
    <div class="column" id="col-1">
      <img src="symbol.png"><img src="symbol.png"><img src="symbol.png">
    </div>
    <div class="column" id="col-2">
      <img src="symbol.png"><img src="symbol.png"><img src="symbol.png">
    </div>
    <div class="column" id="col-mult">
      <img src="mult.png"><img src="mult.png"><img src="mult.png">
    </div>
  </div>

  <!-- Botones y controles -->
  <div class="controls">
    Apuesta:
    <select id="betAmount">
      <option value="2">$2</option>
      <option value="5">$5</option>
      <option value="10">$10</option>
      <option value="100">$100</option>
      <option value="1000">$1000</option>
      <option value="10000">$10000</option>
    </select>
    <button onclick="spin()">Girar</button>
    <button id="autoBtn" onclick="toggleAuto()">‚ñ∂Ô∏è Auto</button>
    <button onclick="setSpeed(1)">x1</button>
    <button onclick="setSpeed(2)">x2</button>
    <button onclick="setSpeed(3)">x3</button>
    <span id="speedStatus">Velocidad: x1</span>
  </div>
</div>

<!-- Resultado -->
<div class="result" id="result" style="text-align:center;">¬°Buena suerte!</div>
<div id="floatingWin" class="floating-win"></div>

<!-- Modal de la ruleta -->
<div id="wheelModal">
  <div class="wheel-content">
    <div class="wheel-container">
      <img src="wheel.png" id="wheelImage">
      <div class="pointer"></div>
    </div>
    <div id="wheelStatus">Girando...</div>
    <div id="wheelResult"></div>
  </div>
</div>

<div id="destroyScreen">
  üí•üî• ¬°Lo sentimos! Se quem√≥ todo el dinero üî•üí•
</div>

<!-- Audios -->
<audio id="spinSound" src="spin.mp3"></audio>
<audio id="winSound" src="win.mp3"></audio>
<audio id="wheelSound" src="wheel.mp3"></audio>
<audio id="bgMusic" src="background.mp3" loop></audio>
<audio id="explosionSound" src="explosion.mp3"></audio>

<script>
const symbols = [
  "symbol_1.png", "symbol_2.png", "symbol_3.png", "symbol_4.png",
  "symbol_5.png", "symbol_6.png", "symbol_7.png", "symbol_8.png"
];

const multSymbols = [
  "mult_1.png", "mult_2.png", "mult_3.png", "mult_5.png", "mult_10.png", "mult_wheel.png"
];

let balance = 100;
let autoSpin = false;
let spinSpeed = 1;

function updateBalance(amount) {
  balance += amount;
  document.getElementById("balance").textContent = "Saldo: $" + balance;
  if (balance <= 0) {
    document.getElementById("destroyScreen").style.display = "flex";
    document.getElementById("explosionSound").play();
    autoSpin = false;
  }
}

function getRandomSymbol() {
  return symbols[Math.floor(Math.random() * symbols.length)];
}

function getRandomMultSymbol() {
  return multSymbols[Math.floor(Math.random() * multSymbols.length)];
}

function spin() {
  const bet = parseInt(document.getElementById("betAmount").value);
  if (balance < bet) return;

  updateBalance(-bet);
  document.getElementById("spinSound").play();

  // Llenar columnas
  for (let col = 0; col < 3; col++) {
    const column = document.getElementById(`col-${col}`);
    column.innerHTML = "";
    for (let i = 0; i < 3; i++) {
      const img = document.createElement("img");
      img.src = getRandomSymbol();
      column.appendChild(img);
    }
  }

  // Multiplicadores
  const colMult = document.getElementById("col-mult");
  colMult.innerHTML = "";
  for (let i = 0; i < 3; i++) {
    const img = document.createElement("img");
    img.src = getRandomMultSymbol();
    colMult.appendChild(img);
  }

  // Verificar ganancia
  const center0 = document.getElementById("col-0").children[1].src;
  const center1 = document.getElementById("col-1").children[1].src;
  const center2 = document.getElementById("col-2").children[1].src;

  const multCenter = document.getElementById("col-mult").children[1].src;

  let reward = 0;

  if (center0 === center1 && center1 === center2) {
    if (center0.includes("symbol_7")) reward = 4 * bet;
    else if (center0.includes("symbol_6")) reward = 6 * bet;
    else reward = 2 * bet;

    if (multCenter.includes("mult_2")) reward *= 2;
    else if (multCenter.includes("mult_3")) reward *= 3;
    else if (multCenter.includes("mult_5")) reward *= 5;
    else if (multCenter.includes("mult_10")) reward *= 10;
    else if (multCenter.includes("mult_wheel")) {
      showWheel();
      return;
    }

    updateBalance(reward);
    document.getElementById("winSound").play();
    showFloatingWin(reward);
    document.getElementById("result").textContent = `¬°Ganaste $${reward}!`;
  } else {
    document.getElementById("result").textContent = "¬°Sigue intentando!";
  }
}

function showFloatingWin(amount) {
  const el = document.getElementById("floatingWin");
  el.textContent = "+$" + amount;
  el.style.display = "block";
  el.style.opacity = 1;
  el.style.top = "50%";
  setTimeout(() => {
    el.style.opacity = 0;
    el.style.top = "30%";
  }, 1000);
}

function showWheel() {
  document.getElementById("wheelModal").style.display = "flex";
  document.getElementById("wheelSound").play();
  const wheelImage = document.getElementById("wheelImage");
  const resultText = document.getElementById("wheelResult");

  let spins = 360 * 4 + Math.floor(Math.random() * 360);
  wheelImage.style.transition = "transform 4s ease-out";
  wheelImage.style.transform = `rotate(${spins}deg)`;

  setTimeout(() => {
    const sector = Math.floor((spins % 360) / 60) + 1;
    let prize = sector * 10;
    if (sector === 6) prize = 100; // premio grande
    updateBalance(prize);
    resultText.textContent = `¬°Ganaste en la ruleta $${prize}!`;
    document.getElementById("winSound").play();
    setTimeout(() => {
      document.getElementById("wheelModal").style.display = "none";
    }, 3000);
  }, 4000);
}

function toggleAuto() {
  autoSpin = !autoSpin;
  if (autoSpin) autoLoop();
}

function autoLoop() {
  if (!autoSpin) return;
  spin();
  setTimeout(autoLoop, 3000 / spinSpeed);
}

function setSpeed(mult) {
  spinSpeed = mult;
  document.getElementById("speedStatus").textContent = `Velocidad: x${mult}`;
}

// Splash screen
window.addEventListener("load", () => {
  setTimeout(() => {
    document.getElementById("preloader").style.display = "none";
    document.getElementById("startButton").style.display = "flex";
  }, 1000);
});

function startGame() {
  document.getElementById("splash").style.display = "none";
  document.getElementById("bgMusic").play();
}
</script>



</body>
</html>
